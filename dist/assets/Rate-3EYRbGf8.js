import{b as i,j as e}from"./index-CkvAdKOf.js";import{S as v}from"./SideBar-Cb9YIg1_.js";import{a as y}from"./index-srchq6Zb.js";import{a as d}from"./axios-upsvKRUO.js";import{A as F}from"./api-oWY9WQi5.js";import"./index-Bi3ZVyb4.js";import"./iconBase-CQ5bDd8R.js";const E="data:image/svg+xml,%3csvg%20width='14'%20height='14'%20viewBox='0%200%2014%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10.9618%208.54866C10.7889%208.71623%2010.7094%208.95856%2010.7488%209.19623L11.3423%2012.4808C11.3924%2012.7592%2011.2749%2013.0409%2011.0419%2013.2018C10.8136%2013.3687%2010.5098%2013.3887%2010.2608%2013.2552L7.30406%2011.7131C7.20125%2011.6583%207.08709%2011.6289%206.97026%2011.6256H6.78934C6.72659%2011.6349%206.66517%2011.655%206.60909%2011.6857L3.65166%2013.2352C3.50545%2013.3086%203.33989%2013.3346%203.17767%2013.3086C2.78245%2013.2338%202.51875%2012.8573%202.58351%2012.4601L3.17767%209.17553C3.21705%208.93587%203.13761%208.69219%202.9647%208.52196L0.554028%206.18538C0.352415%205.98978%200.282318%205.69604%200.374445%205.431C0.463903%205.16664%200.692219%204.9737%200.967935%204.93031L4.28587%204.44897C4.53822%204.42294%204.75986%204.26939%204.87335%204.04241L6.33538%201.04492C6.37009%200.978159%206.41482%200.916741%206.4689%200.864669L6.52898%200.817937C6.56036%200.783222%206.59641%200.754516%206.63646%200.73115L6.70923%200.704446L6.82272%200.657715H7.10378C7.35479%200.683751%207.57577%200.833959%207.69126%201.05827L9.17265%204.04241C9.27946%204.26071%209.48708%204.41226%209.72675%204.44897L13.0447%204.93031C13.3251%204.97036%2013.5594%205.16397%2013.6522%205.431C13.7396%205.69871%2013.6642%205.99245%2013.4586%206.18538L10.9618%208.54866Z'%20fill='%23F6973F'/%3e%3c/svg%3e",k="data:image/svg+xml,%3csvg%20width='14'%20height='14'%20viewBox='0%200%2014%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.8332%207.00033H1.1665M1.1665%207.00033L6.99984%2012.8337M1.1665%207.00033L6.99984%201.16699'%20stroke='%23344054'%20stroke-width='1.67'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",B="data:image/svg+xml,%3csvg%20width='14'%20height='14'%20viewBox='0%200%2014%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20opacity='0.3'%20d='M10.9393%208.54866C10.7664%208.71623%2010.687%208.95856%2010.7264%209.19623L11.3199%2012.4808C11.3699%2012.7592%2011.2524%2013.0409%2011.0194%2013.2018C10.7911%2013.3687%2010.4874%2013.3887%2010.2384%2013.2552L7.2816%2011.7131C7.17879%2011.6583%207.06463%2011.6289%206.9478%2011.6256H6.76688C6.70413%2011.6349%206.64271%2011.655%206.58663%2011.6857L3.6292%2013.2352C3.48299%2013.3086%203.31743%2013.3346%203.15521%2013.3086C2.75999%2013.2338%202.49629%2012.8573%202.56105%2012.4601L3.15521%209.17553C3.19459%208.93587%203.11515%208.69219%202.94224%208.52196L0.531567%206.18538C0.329954%205.98978%200.259857%205.69604%200.351984%205.431C0.441442%205.16664%200.669758%204.9737%200.945474%204.93031L4.26341%204.44897C4.51576%204.42294%204.7374%204.26939%204.85089%204.04241L6.31292%201.04492C6.34763%200.978159%206.39236%200.916741%206.44644%200.864669L6.50652%200.817937C6.5379%200.783222%206.57395%200.754516%206.614%200.73115L6.68677%200.704446L6.80026%200.657715H7.08132C7.33233%200.683751%207.55331%200.833959%207.6688%201.05827L9.15019%204.04241C9.257%204.26071%209.46462%204.41226%209.70429%204.44897L13.0222%204.93031C13.3026%204.97036%2013.5369%205.16397%2013.6297%205.431C13.7172%205.69871%2013.6418%205.99245%2013.4361%206.18538L10.9393%208.54866Z'%20fill='%23F6973F'/%3e%3c/svg%3e",D="data:image/svg+xml,%3csvg%20width='14'%20height='14'%20viewBox='0%200%2014%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1.1665%207.00033H12.8332M12.8332%207.00033L6.99984%201.16699M12.8332%207.00033L6.99984%2012.8337'%20stroke='%23344054'%20stroke-width='1.67'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",x=7,T=()=>{const[r,m]=i.useState([]),[a,o]=i.useState(1);i.useEffect(()=>{(async()=>{try{const s=await d.get(F.GET.RATESALLLIST);m(s.data.reverse()),console.log(r)}catch(s){console.error("Error fetching data:",s)}})()},[r]);const n=Math.ceil(r.length/x),g=r.slice((a-1)*x,a*x),f=()=>{a<n&&o(a+1)},u=()=>{a>1&&o(a-1)},p={filled:E,empty:B},h=async(t,s,l,C,N)=>{try{const L=await d.put(`https://starofelegance.com/api/rates/${t}/update/`,{id:t,name:l,message:C,rate:N,state:s},{headers:{"Content-Type":"application/json"}});m(b=>b.map(c=>c.id===t?{...c,state:s}:c))}catch{}},w=async t=>{await d.delete(`https://starofelegance.com/api/rates/${t}/delete/`),fetchData()},j=(t,s)=>{window.confirm(`Are you sure you want to delete the rate sent from ${s}?`)&&(w(t),alert(`${s}'s order was deleted`))};return e.jsxs("div",{className:"md:flex gap-14",children:[e.jsx(v,{}),e.jsxs("div",{className:"mb-28 md:w-full pl-12 md:pl-0 mr-6 mt-11",children:[e.jsx("p",{className:"Poppins font-bold text-2xl",children:"Dashboard"}),e.jsx("p",{className:"Poppins font-semibold text-2xl my-6",children:"Rate"}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"min-w-full border-collapse bg-white",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-[#F9FAFB] border border-[#EAECF0]",children:[e.jsx("th",{className:"px-4 py-2 text-[#667085] inter font-medium text-xs text-left",children:"Name"}),e.jsx("th",{className:"px-4 py-2 text-[#667085] inter font-medium text-xs text-left",children:"Text Message"}),e.jsx("th",{className:"px-4 py-2 text-[#667085] inter font-medium text-xs text-left",children:"Status"}),e.jsx("th",{className:"px-4 py-2 text-[#667085] inter font-medium text-xs text-center",children:"Rate"})]})}),e.jsx("tbody",{children:g.map(t=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"px-4 py-2 inter font-medium text-sm text-[#101828]",children:t.name}),e.jsx("td",{className:"px-4 py-2 inter font-medium text-xs text-[#667085]",children:t.message}),e.jsx("td",{className:"px-4 py-2 inter font-medium text-xs text-[#667085]",children:t.state?e.jsx("button",{onClick:()=>h(t.id,!t.state,t.name,t.message,t.rate),children:e.jsxs("span",{className:"bg-green-100 text-green-700 px-3 py-1 rounded-full flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-green-700 rounded-full mr-2"}),"active"]})}):e.jsx("button",{onClick:()=>h(t.id,!t.state,t.name,t.message,t.rate),children:e.jsxs("span",{className:"bg-[#FFEDDB] text-[#FF850B] px-3 py-1 rounded-full flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-[#FF850B] rounded-full mr-2"}),"inactive"]})})}),e.jsx("td",{className:"px-4 py-2 text-center",children:Array(5).fill().map((s,l)=>e.jsx("img",{src:l<t.rate?p.filled:p.empty,alt:"star",className:"inline w-4"},l))}),e.jsx("td",{className:"px-4 py-5 space-x-2",children:e.jsx("button",{onClick:()=>j(t.id,t.name),children:e.jsx(y,{className:"text-[#667085]"})})})]},t.id))})]}),e.jsxs("div",{className:"flex justify-between mx-3 mt-6",children:[e.jsxs("button",{onClick:u,disabled:a===1,className:`flex gap-1 py-2 rounded-lg border w-[114px] ${a===1?"opacity-50 cursor-not-allowed":"hover:bg-[#B47F3E]"}`,children:[e.jsx("img",{className:" mt-1 ",src:k,alt:"right-arrow"}),e.jsx("span",{className:"inter font-medium text-[#344054]",children:"Previous"})]}),e.jsx("div",{className:"flex gap-3.5",children:Array.from({length:n},(t,s)=>e.jsx("button",{onClick:()=>o(s+1),className:`text-[#667085]  inter font-medium text-base ${a===s+1?"text-[#B47F3E] font-bold":""}`,children:s+1},s+1))}),e.jsxs("button",{onClick:f,disabled:a===n,className:`flex  gap-1 py-2 rounded-lg border w-[114px] ${a===n?"opacity-50 cursor-not-allowed":"hover:bg-[#B47F3E]"}`,children:[e.jsx("span",{className:"inter font-medium text-[#344054] pl-4",children:"Next"}),e.jsx("img",{className:"w-3 mt-2 ml-1",src:D,alt:"left-arrow"})]})]})]})]})]})};export{T as default};
