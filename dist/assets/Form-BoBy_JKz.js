import{b as s,u as q,e as D,j as e}from"./index-CkvAdKOf.js";import{N as I,F as P}from"./Footer-DKMgikLT.js";import{T as A}from"./Title-BvV5C1C7.js";import{a as b}from"./axios-upsvKRUO.js";import{A as v}from"./api-oWY9WQi5.js";import"./index-Bi3ZVyb4.js";import"./iconBase-CQ5bDd8R.js";import"./index-hw17F6dq.js";import"./index-DvQ5XEFF.js";import"./index-srchq6Zb.js";function M(){const[O,N]=s.useState([]),o=q(),{"service-name":i}=D(),n=encodeURIComponent(i.replace(/-/g," ").replace(/\s+/g," ")).replace(/%20/g," "),[r,j]=s.useState([]);s.useState("");const[h,p]=s.useState(""),[c,w]=s.useState(""),[m,S]=s.useState(""),[d,y]=s.useState(""),[f,k]=s.useState(`I need to book this service (${n})...`),[g,E]=s.useState("restaurants"),[U,x]=s.useState(!1),[a,T]=s.useState({});s.useEffect(()=>{(async()=>{try{const l=await b.get(v.GET.SERVICELIST);j(l.data);const u=l.data.map(({id:R,name:F})=>({id:R,name:F}));N(u)}catch{o("/error")}finally{x(!1)}})()},[]),s.useEffect(()=>{if(r.length>0){const t=r.find(l=>l.name===n);p(t?t.name:"")}},[r,n]);const C=()=>{let t={};return c||(t.name="This field is required"),m||(t.email="This field is required"),d||(t.phone="This field is required"),T(t),Object.keys(t).length===0},B=async t=>{if(t.preventDefault(),!C())return;x(!0);const l={name:c,email:m,phone:d,service_name:h,description:f,service_type:g};try{const u=await b.post(v.POST.CREATEORDER,l);o("/message-successful")}catch{o("/error")}finally{x(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(I,{}),e.jsx("div",{className:"mt-52",children:e.jsx(A,{})}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("p",{className:"font-semibold text-4xl crimson text-[#8B5715]",children:"Appointment Form"}),e.jsx("p",{className:"font-normal text-xl text-center md:text-start crimson mt-5 mb-10 text-black",children:"Please fill the form below, it will only take 3 minutes"}),e.jsx("div",{className:"flex justify-between items-center p-4",children:e.jsxs("form",{className:"mt-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"font-medium text-lg text-black crimson",children:"Your Name"}),e.jsx("input",{type:"text",className:"w-full md:max-w-[341px] mt-1 font-light block shadow-lg text-2xl bg-white border  border-[#8B5715] rounded-lg p-3 h-14 source letter-spacing3",placeholder:"JAN",value:c,onChange:t=>w(t.target.value),required:!0}),a.name&&e.jsx("p",{className:"text-red-500 text-sm",children:a.name})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"font-medium text-lg text-black crimson",children:"Email"}),e.jsx("input",{type:"email",className:"w-full md:max-w-[341px] mt-1 block shadow-lg text-2xl bg-white border border-[#8B5715] rounded-lg p-3 tt letter-spacing3",placeholder:"Example@Example.com",value:m,onChange:t=>S(t.target.value),required:!0}),a.email&&e.jsx("p",{className:"text-red-500 text-sm",children:a.email})]})]}),e.jsxs("div",{className:"mt-4 flex flex-col md:flex-row gap-8",children:[e.jsxs("div",{className:"w-full",children:[e.jsx("label",{className:"font-medium text-lg text-black crimson tt",children:"Phone"}),e.jsx("input",{type:"tel",className:"w-full  md:max-w-[341px] mt-1 block shadow-lg text-2xl bg-white border border-[#8B5715] rounded-lg p-3 h-14 letter-spacing3",placeholder:"657-473-9783",value:d,onChange:t=>y(t.target.value),required:!0}),a.phone&&e.jsx("p",{className:"text-red-500 text-sm",children:a.phone})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"serviceType",className:"font-medium text-lg text-black crimson",children:"Select Your Service Type"}),e.jsxs("select",{className:"w-full md:max-w-[341px] text-[#949494] source font-light mt-1 block text-2xl bg-white border border-[#8B5715] rounded-lg p-3 h-14 letter-spacing3",onChange:t=>E(t.target.value),value:g,children:[e.jsx("option",{value:"restaurants",children:"Restaurants"}),e.jsx("option",{value:"hotels",children:"Hotels"}),e.jsx("option",{value:"residential",children:"Residential"})]})]})]}),e.jsxs("div",{className:"w-full flex flex-col mt-2",children:[e.jsx("label",{htmlFor:"serviceName",className:"font-medium text-lg text-black crimson",children:"Select Service Name"}),e.jsxs("select",{className:"w-full  text-[#949494] source font-light text-2xl mt-1 bg-white border border-[#8B5715] rounded-lg p-3 h-14 letter-spacing3",value:h,onChange:t=>p(t.target.value),children:[e.jsx("option",{value:decodeURIComponent(i),children:decodeURIComponent(i)}),r.map(t=>e.jsx("option",{value:t.name,children:t.name},t.id))]})]}),e.jsxs("div",{className:"mt-10",children:[e.jsx("label",{className:"font-medium text-lg text-black crimson",children:"Description (Optional)"}),e.jsx("textarea",{value:f,onChange:t=>k(t.target.value),placeholder:"Please provide the name of the service you wish to book along with its details.",className:"bg-white border border-[#8B5715] rounded-lg h-40 p-3 w-full"})]})]})}),e.jsx("button",{type:"submit",className:"boder-3 w-[290px] bg-white text-[#8B5715] font-semibold text-4xl border border-3 border-[#8B5715] rounded-2xl py-4 px-6 hover:text-white hover:bg-[#8B5715] my-20 crimson",onClick:B,children:"Book Now"})]}),e.jsx(P,{})]})}export{M as default};
