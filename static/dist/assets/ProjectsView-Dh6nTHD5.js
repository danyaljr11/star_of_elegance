import{b as n,u as N,j as t}from"./index-CkvAdKOf.js";import{d as v}from"./deleteicon-4Sc3Kd4X.js";import{S as w}from"./SideBar-Cb9YIg1_.js";/* empty css                  */import{a as m}from"./axios-upsvKRUO.js";import{A as y}from"./api-oWY9WQi5.js";import"./index-Bi3ZVyb4.js";import"./iconBase-CQ5bDd8R.js";function O(){const[r,x]=n.useState([]),[a,i]=n.useState(1),o=2,p=N();n.useEffect(()=>{(async()=>{try{const s=await m.get(y.GET.PROJECTSLIST);x(s.data.reverse())}catch{p("/error")}})()},[r]);const c=Math.ceil(r.length/o),d=a*o,h=d-o,f=r.slice(h,d),u=()=>i(e=>e<c?e+1:e),g=()=>i(e=>e>1?e-1:e),b=async e=>{try{const s=await m.delete(`https://starofelegance.com/api/projects/${e}/delete/`)}catch{}},j=(e,s)=>{window.confirm(`Are you sure you want to delete this project ${s} ?`)&&(b(e),alert(`this project:${s} has been deleted`),fetchData())};return t.jsxs("div",{className:"md:flex gap-14",children:[t.jsx(w,{}),t.jsxs("div",{className:"pl-14 md:pl-0",children:[t.jsx("p",{className:"mb-10 text-black font-bold text-2xl mt-32 Poppins",children:"Dashboard"}),t.jsx("p",{className:"font-semibold text-2xl mb-14 Poppins",children:"Projects"}),f.map((e,s)=>{var l;return t.jsxs("div",{className:"flex flex-col md:flex-row gap-10 md:w-[1100px] justify-center items-center mb-20 container-services2",children:[t.jsxs("div",{className:"flex bg-[#D9D9D9] rounded-lg child-services",children:[t.jsx("img",{className:"w-[350px] h-[320px]",src:((l=e.before_pictures)==null?void 0:l[0])||"https://via.placeholder.com/350x320",alt:e.name}),t.jsxs("div",{className:"pl-8",children:[t.jsx("p",{className:"font-normal text-3xl text-black kanit mb-12",children:e.name}),t.jsx("p",{className:"font-normal text-xl text-black nun mb-14",children:e.description})]})]}),t.jsx("div",{onClick:()=>j(e.id,e.name),className:" hover:cursor-pointer bg-[#D9D9D9] flex justify-center items-center w-44 gap-3.5  h-14 rounded-lg",children:t.jsx("img",{src:v,className:"w-8",alt:"icon"})})]},s)}),t.jsxs("div",{className:"flex justify-center mt-8 gap-4",children:[t.jsx("button",{onClick:g,disabled:a===1,className:`px-4 py-2 rounded-lg ${a===1?"bg-gray-300 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-700"}`,children:"Previous"}),t.jsxs("span",{className:"text-lg font-semibold",children:[a," / ",c]}),t.jsx("button",{onClick:u,disabled:a===c,className:`px-4 py-2 rounded-lg ${a===c?"bg-gray-300 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-700"}`,children:"Next"})]})]})]})}export{O as default};
